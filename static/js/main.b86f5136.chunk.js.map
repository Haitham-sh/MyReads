{"version":3,"sources":["BookDetails.js","BookShelf.js","Home.js","BooksAPI.js","Search.js","App.js","index.js"],"names":["BookDetails","book","updateShelf","shelfedOrNot","className","style","width","height","backgroundImage","imageLinks","thumbnail","value","onChange","event","target","disabled","title","authors","map","author","BookShelf","books","shelf","filter","name","id","Home","to","api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","Search","booksx","useState","query","setQuery","setBooks","useEffect","delay","setTimeout","trim","length","maxResults","fetch","method","body","JSON","stringify","then","res","json","data","BooksAPI","error","sorte","bookx","findIndex","s","alert","clearTimeout","type","placeholder","App","Shelf","bookChang","bookCh","concat","test","b","exact","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b86f5136.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction BookDetails({ book, updateShelf, shelfedOrNot }) {\r\n  return (\r\n    <div className=\"book\">\r\n      <div className=\"book-top\">\r\n        <div\r\n          className=\"book-cover\"\r\n          style={{\r\n            width: 128,\r\n            height: 193,\r\n            backgroundImage: `url(${book.imageLinks?.thumbnail}), linear-gradient(120deg, #d4fc79 0%, #96e6a1 100%)`,\r\n          }}\r\n        ></div>\r\n        <div className=\"book-shelf-changer\">\r\n          <select\r\n            value={shelfedOrNot(book)}\r\n            onChange={(event) => {\r\n              updateShelf(book, event.target.value);\r\n            }}\r\n          >\r\n            <option value=\"move\" disabled>\r\n              Move to...\r\n            </option>\r\n            <option value=\"currentlyReading\">Currently Reading</option>\r\n            <option value=\"wantToRead\">Want to Read</option>\r\n            <option value=\"read\">Read</option>\r\n            <option value=\"none\">None</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className=\"book-title\">{book.title}</div>\r\n      <div className=\"book-authors\">\r\n        {book.authors?.map((author) => (\r\n          <span key={author}>{author},</span>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookDetails;\r\n","import React from \"react\";\r\nimport BookDetails from \"./BookDetails\";\r\n\r\nfunction BookShelf({ books, shelf, updateShelf, shelfedOrNot }) {\r\n  return (\r\n    <div className=\"bookshelf\">\r\n      <h2 className=\"bookshelf-title\">{shelf.value}</h2>\r\n      <div className=\"bookshelf-books\">\r\n        <ol className=\"books-grid\">\r\n          {books\r\n            .filter((book) => book.shelf === shelf.name)\r\n            .map((book) => (\r\n              <li key={book.id}>\r\n                <BookDetails\r\n                  book={book}\r\n                  updateShelf={updateShelf}\r\n                  shelfedOrNot={shelfedOrNot}\r\n                />\r\n              </li>\r\n            ))}\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookShelf;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BookShelf from \"./BookShelf\";\r\n\r\nfunction Home({ updateShelf, shelfedOrNot, books }) {\r\n  const shelfs = [\r\n    {\r\n      value: \"Currently Reading\",\r\n      name: \"currentlyReading\",\r\n    },\r\n    {\r\n      value: \"Want to Read\",\r\n      name: \"wantToRead\",\r\n    },\r\n    {\r\n      value: \"Read\",\r\n      name: \"read\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <div className=\"list-books\">\r\n        <div className=\"list-books-title\">\r\n          <h1>MyReads</h1>\r\n        </div>\r\n        <div className=\"list-books-content\">\r\n          <div>\r\n            {shelfs.map((shelf) => (\r\n              <div key={shelf.name}>\r\n                <BookShelf\r\n                  books={books}\r\n                  shelf={shelf}\r\n                  updateShelf={updateShelf}\r\n                  shelfedOrNot={shelfedOrNot}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"open-search\">\r\n          <Link to=\"/search\">Add a book</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","const api = \"https://reactnd-books-api.udacity.com\";\n\nlet token = localStorage.token;\n\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\n\nconst headers = {\n  Accept: \"application/json\",\n  Authorization: token,\n};\n\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then((res) => res.json())\n    .then((data) => data.book);\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then((res) => res.json())\n    .then((data) => data.books);\n\nexport const update = (book, shelf) =>\n  fetch(`${api}/books/${book.id}`, {\n    method: \"PUT\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ shelf }),\n  }).then((res) => res.json());\n\nexport const search = (query, maxResults) =>\n  fetch(`${api}/search`, {\n    method: \"POST\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ query, maxResults }),\n  })\n    .then((res) => res.json())\n    .then((data) => data.books);\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BookDetails from \"./BookDetails\";\r\nimport { useState, useEffect } from \"react\";\r\nimport * as BooksAPI from \"./BooksAPI\";\r\n\r\nfunction Search({ updateShelf, shelfedOrNot, booksx }) {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [books, setBooks] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const delay = setTimeout(() => {\r\n      if (query.trim().length !== 0) {\r\n        BooksAPI.search(query.trim()).then((books) => {\r\n          if (books.error !== \"empty query\") {\r\n            let sorte = [];\r\n            books.map((book) => {\r\n              return (book.shelf = \"none\");\r\n            });\r\n\r\n            booksx.map((bookx) => {\r\n              sorte[books.findIndex((book) => book.id === bookx.id)] = {\r\n                id: bookx.id,\r\n                shelf: bookx.shelf,\r\n              };\r\n              return sorte;\r\n            });\r\n\r\n            books.map((book) => {\r\n              sorte.map((s) => {\r\n                if (book.id === s.id) {\r\n                  book.shelf = s.shelf;\r\n                }\r\n                return book;\r\n              });\r\n              return books;\r\n            });\r\n\r\n            setBooks([...books]);\r\n          } else {\r\n            setBooks([]);\r\n            alert(\"Sorry a Book Not Found\");\r\n          }\r\n        });\r\n      } else {\r\n        setBooks([]);\r\n      }\r\n    }, 350);\r\n    return () => clearTimeout(delay);\r\n  }, [query, booksx]);\r\n\r\n  return (\r\n    <div className=\"search-books\">\r\n      <div className=\"search-books-bar\">\r\n        <Link to=\"/\" className=\"close-search\">\r\n          Close\r\n        </Link>\r\n        <div className=\"search-books-input-wrapper\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by title, author, or ISBN\"\r\n            value={query}\r\n            onChange={(event) => setQuery(event.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"search-books-results\">\r\n        <ol className=\"books-grid\">\r\n          {books.map((book) => (\r\n            <li key={book.id}>\r\n              <BookDetails\r\n                book={book}\r\n                updateShelf={updateShelf}\r\n                shelfedOrNot={shelfedOrNot}\r\n              />\r\n            </li>\r\n          ))}\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import \"./App.css\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Home from \"./Home\";\nimport Search from \"./Search\";\nimport { useState, useEffect } from \"react\";\nimport * as BooksAPI from \"./BooksAPI\";\n\nfunction App() {\n  const [books, setBooks] = useState([]);\n\n  useEffect(() => {\n    BooksAPI.getAll().then((books) => {\n      setBooks(books);\n    });\n  }, []);\n\n  const updateShelf = (book, Shelf) => {\n    BooksAPI.update(book, Shelf).then(() => {\n      book.shelf = Shelf;\n      const bookChang = books\n        .filter((bookCh) => bookCh.id !== book.id)\n        .concat([book]);\n      setBooks([...bookChang]);\n    });\n  };\n\n  const shelfedOrNot = (book) => {\n    const test = books.filter((b) => b.id === book.id);\n    if (test.length > 0) {\n      return test[0].shelf;\n    } else {\n      return \"none\";\n    }\n  };\n\n  return (\n    <Routes>\n      <Route\n        exact\n        path=\"/\"\n        element={\n          <Home\n            shelfedOrNot={shelfedOrNot}\n            updateShelf={updateShelf}\n            books={books}\n          />\n        }\n      ></Route>\n      <Route\n        exact\n        path=\"/search\"\n        element={\n          <Search\n            shelfedOrNot={shelfedOrNot}\n            updateShelf={updateShelf}\n            booksx={books}\n          />\n        }\n      ></Route>\n    </Routes>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}